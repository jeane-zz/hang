<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<title>扫雷模拟</title>
</head>
<body>
	<script type="text/javascript">
	var a =[['*', '*', '?', '?'],['?', '?', '?', '*'],['?', '*', '*', '?'],['?', '?', '*', '?'],['?', '*', '?', '*']];
	function printArray( arr ) {
		for ( i = 0; i < arr.length; i++) {
			document.write( i + 1 + '[ ');
			for ( j = 0; j < arr[i].length; j++) {
				document.write(arr[i][j]+' ');
			}
			document.write(']<br>');
		}
	}
	function sweep(arr){
		printArray( arr );
		document.write('<br><br><br>');
		//判断某个空附近有几颗雷
		for( var i = 0; i < arr.length; i ++){
			for (var j = 0; j < arr[i].length; j++) {
				var num = 0;
				if(arr[i][j] === '?'){
					if((i > 0 )&&( j > 0) && (arr[i - 1][j - 1] === "*"))
					{
						num += 1;
					}		
					if( (i > 0) && (arr[i-1][j] === "*"))
					{
						num += 1;
					}
					if((i > 0) &&( j< arr[i].length - 1) && (arr[i-1][j+1] === "*"))
					{
						num += 1;
					}
					if(( j > 0 )&& (arr[i][j-1] === "*"))
					{
						num += 1;
					}
					if(( j< arr[i].length - 1) && (arr[i][j+1] === "*"))
					{
						num += 1;
					}
					if((i < arr.length - 1) && (j > 0 ) && (arr[i+1][j-1] === "*"))
					{
						num += 1;
					}
					if((i < arr.length - 1) && arr[i+1][j] === "*")
					{
						num += 1;
					}
					if((i < arr.length - 1) && ( j< arr[i].length - 1) && arr[i+1][j+1] === "*")
					{
						num += 1;
					}
					arr[i][j] = num;
				}
			}
		}
		printArray( arr );

	}
	sweep(a);

		

	console.log(a);
	</script>
</body>
</html>